# 规范

* 报表主题要带上业务线门店或者货架，如<门店新老用户下单情况>
* 报表主题尽量带上报表频率，日报、周报、月报，如<社群种子用户消费日报>
* 报表主题要尽量让人一看就知道什么内容，明细数据还是汇总数据，如<货架各城市补货汇总日报>、<货架补货铺货上新明细日报>
* 表头意义清晰，使用中文表头
* 报表尽量不要出现自增id，如货架id,订单id，用户id，请用货架编号，订单view\_id，用户view\_id
* 使用排序提高可读性，如<每日分城市动销率>，应该按照动销率排序，这样可以第一眼就看到哪些城市表现好，哪些差；一万行以内的数据，必须排序，日期一律倒序，其他按照好到坏或者坏到好排序，如按照订单量倒序
* 50行以内数据直接在正文显示，大于100行用excel，中间情况自己决定
* 日期格式一律为date，datetime，对于maxcompute，没有date格式，只有datetime，可以使用datetrunc(datetime, 'dd')，即时分秒都为0，报表会自动将其转化为日期
* 如果涉及到率，尽量用百分比
* 对于不可加的字段，如客单价=sum(GMV)/sum(订单量)，货损率=sum(货损)/sum(GMV)，最好把两个依赖字段也加上，这样用户可以对该字段在更长时间段汇总
* odps SQL不要使用视图
* 不要使用select *
* 对于单位不是显而易见的字段，请在字段名中加入单位，如 花费时间（秒)
* 为了支持重跑某一天的数据，报表中一定要用日期变量{pt}或者{dt}，如日报 `to_char(order_time, 'yyyymmdd') = {pt}`，周报 `order_date between dateadd('{dt} 00:00:00', -6, 'dd') and '{dt} 00:00:00'`，月报`to_char(order_date, 'yyyy-mm') = to_char('{dt} 00:00:00', 'yyyy-mm')`

